@(title: String, icon: String= "", scripts: Html = Html(""), styles: Html = Html(""))(content: Html)(implicit request: RequestHeader, messages: Messages)
@import securesocial.core.UsernamePasswordProvider
@import play.api.Play.current

@navItem(url: String, icon: String, title:String) = {
@if(request.path==url) {
    <li class="active">
    } else {
    <li>
    }
    <a href="@url" title="@title">
        <span class="sidebar-text">
        @if(request.path==url){
            <i class="glyphicon glyphicon-@icon"></i>
            @title
        } else {
            <span class="visible-xs visible-lg">
                <i class="glyphicon glyphicon-@icon"></i>
                @title
            </span>

            <span class="hidden-xs hidden-lg">
                <i class="glyphicon glyphicon-@icon"></i>
            </span>
        }
        </span>
    </a>
</li>
}

@navItemLang(url: String, icon: String, title:String) = {
@if(request.path==url) {
    <li class="active">
} else {
    <li>
    }
    <a href="@url">
    @if(request.path==url){
        <img src="@icon" height="30px" width="30px" class="submenu-title"> @title
    } else {
        <img src="@icon" height="30px" width="30px" class="submenu-title"> @title
        }
    </a>
</li>
}

@exchangeStyles = {
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("css/jquery.pnotify.default.css")">
}

@exchangeScripts = {
    <script src="@routes.Assets.at("js/vendor/jquery.pnotify.js")"></script>
    <script src="@routes.Assets.at("js/vendor/jquery.qrcode-0.10.1.min.js")"></script>
    <script src="@routes.Assets.at("js/vendor/moment.min.js")"></script>
}

@_global_chrome(title, Html(scripts + exchangeScripts.body), Html(styles + exchangeStyles.body)) {

    <!-- Fixed navbar -->
    <nav class="navbar navbar-exchange navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                    <!-- Sidebar toggle button-->
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a id="logo" href="@routes.Application.index()" class="navbar-brand">
                    <span class="fa fa-rocket"></span>
                    <span class="logo-text">@play.api.Play.current.configuration.getString("application.name")</span>
                    <span style="display: none" class="logo-text-icon">@play.api.Play.current.configuration.getString("application.name")</span>
                </a>
            </div>

            <div class="navbar-collapse collapse">
                <!-- exchange links -->
                <ul class="nav navbar-nav">
                    @navItem(routes.Application.wallet().url, "home", Messages("chrome.exchange.navigation.dashboard.title"))
                    @navItem(routes.Application.user_settings().url, "floppy-disk", Messages("chrome.exchange.navigation.withdraw.label"))

                    <li class="dropdown" id="Fundsfat-menu">
                        <a aria-expanded="false" aria-haspopup="true" role="button" data-toggle="dropdown" class="dropdown-toggle" href="#" id="fundsdrop">
                            @Messages("chrome.exchange.navigation.depositwithdraw.title")
                            <span class="caret"></span>
                        </a>
                        <ul aria-labelledby="fundsdrop" class="dropdown-menu">
                            @navItem(routes.Application.account().url, "plus-sign", Messages("chrome.exchange.navigation.deposit.label"))
                            @navItem(routes.Application.account().url, "random", Messages("directpay.navigation.converttocrypto.title"))
                            @navItem(routes.Application.account().url, "upload", Messages("directpay.navigation.sendfunds.title"))
                            <li role="separator" class="divider"></li>
                            @navItem(routes.Application.account().url, "download", Messages("directpay.navigation.receivefunds.title"))
                            @navItem(routes.Application.account().url, "random", Messages("directpay.navigation.converttofiat.title"))
                            @navItem(routes.Application.account().url, "minus-sign", Messages("chrome.exchange.navigation.withdraw.label"))
                        </ul>
                    </li>

                    <li class="dropdown" id="Accountfat-menu">
                        <a aria-expanded="false" aria-haspopup="true" role="button" data-toggle="dropdown" class="dropdown-toggle" href="#" id="accountdrop">
                            @Messages("chrome.exchange.navigation.account.title")
                            <span class="caret"></span>
                        </a>
                        <ul aria-labelledby="accountdrop" class="dropdown-menu">
                            @navItem(routes.Application.account().url, "user", Messages("directpay.navigation.personalinfo.title"))
                            @navItem(routes.Application.account().url, "flash", Messages("directpay.navigation.automation.title"))
                            @navItem(routes.Application.history().url, "list", Messages("chrome.exchange.navigation.history.title"))
                            @navItem(routes.Application.account().url, "screenshot", Messages("directpay.navigation.twofactorsecurity.title"))
                        </ul>
                    </li>

                    <li class="dropdown" id="Supportfat-menu">
                        <a aria-expanded="false" aria-haspopup="true" role="button" data-toggle="dropdown" class="dropdown-toggle" href="#" id="supportdrop">
                            @Messages("directpay.navigation.support.title")
                            <span class="caret"></span>
                        </a>
                        <ul aria-labelledby="supportdrop" class="dropdown-menu">
                            @navItem(routes.Application.account().url, "star", Messages("chrome.exchange.navigation.about.title"))
                            @navItem(routes.Application.account().url, "question-sign", Messages("chrome.exchange.navigation.faq.title"))
                            @navItem(routes.Application.account().url, "earphone", Messages("directpay.navigation.contact.title"))
                            @navItem(routes.Application.account().url, "book", Messages("directpay.navigation.terms.title"))
                        </ul>
                    </li>

                    <li class="dropdown" id="Adminfat-menu">
                        <a aria-expanded="false" aria-haspopup="true" role="button" data-toggle="dropdown" class="dropdown-toggle" href="#" id="admindrop">
                            @Messages("directpay.navigation.admin.adminpanel.title")
                            <span class="caret"></span>
                        </a>
                        <ul aria-labelledby="admindrop" class="dropdown-menu">
                            @navItem(routes.Application.account().url, "eye-open", Messages("directpay.navigation.admin.management.title"))
                            @navItem(routes.Application.user_list().url, "user", Messages("directpay.navigation.admin.users.title"))
                            @navItem(routes.Application.account().url, "book", Messages("directpay.navigation.admin.orders.title"))
                        </ul>
                    </li>

                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown" id="fat-menu">
                        <a aria-expanded="false" aria-haspopup="true" role="button" data-toggle="dropdown" class="dropdown-toggle" href="#" id="langdrop">
                            @Messages("terminology.language")
                            <span class="caret"></span>
                        </a>
                        <ul aria-labelledby="langdrop" class="dropdown-menu">
                            @for(lang <- Lang.availables) {
                                @navItemLang("/chlang/".concat(lang.code.toString), routes.Assets.at("img/flags/")+lang.language.concat(".png"), Messages("chrome.language."++ lang.language.toString))
                            }
                        </ul>
                    </li>
                    <li><a href="@controllers.routes.LoginPage.logout().absoluteURL(UsernamePasswordProvider.sslEnabled)">@Messages("chrome.logout")</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container" role="main">
        @content
    </div>
}

