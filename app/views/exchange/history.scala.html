@(user: securesocial.core.SocialUser)(implicit request: RequestHeader, messages: Messages)

@import securesocial.core.UsernamePasswordProvider
@import helper._

@implicitFieldConstructor = @{ FieldConstructor(auth.inputFieldConstructor.f(_)(messages)) }

@scripts = {
    <script src="@routes.Assets.at("js/history.js")" xmlns="http://www.w3.org/1999/html"></script>
}

@exchange._chrome(Messages("chrome.exchange.navigation.history.label"), "dashboard", scripts) {
        <!-- page content -->
    <div class="page-title">
        <div class="title_left">
            <h3><i class="fa fa-list"> &nbsp;</i> @Messages("chrome.exchange.navigation.history.label")</h3>
        </div>
    </div>



    <div class="clearfix"></div>
    <div class="row">
            <!-- Start of form -->
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel" style="@globals.country_appearance1">
                <div class="x_title">
                    <h2 style="overflow: visible;"><i class="fa fa-list"></i> &nbsp; @Messages("directpay.history.usersoperationshistory")</h2>
                    <ul class="nav navbar-right panel_toolbox"><li><a class="collapse-link" title="@Messages("terminology.minimizethisboard")"><i class="fa fa-chevron-up"></i></a></li><li><a class="close-link" title="@Messages("terminology.closethisboard")"><i class="fa fa-close"></i></a></li></ul><div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <p id="orders-script-position"></p>  <!-- Script for searched orders is called here -->
                </div>
            </div>
        </div>
    </div>


    <div class="clearfix"></div>
    <div class="row">
            <!-- Start of form -->
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel" style="@globals.country_appearance1">
                <div class="x_title">
                    <h2 style="overflow: visible;"><i class="fa fa-bookmark"></i> &nbsp; @Messages("directpay.history.loghistory")</h2>
                    <ul class="nav navbar-right panel_toolbox"><li><a class="collapse-link" title="@Messages("terminology.minimizethisboard")"><i class="fa fa-chevron-up"></i></a></li><li><a class="close-link" title="@Messages("terminology.closethisboard")"><i class="fa fa-close"></i></a></li></ul><div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <p id="log-script-position"></p>  <!-- Script for searched orders is called here -->
                </div>
            </div>
        </div>
    </div>


        <!-- Modal page for order details -->
    <div id="popupDetails" class="overlay">
        <div id="popupInfoDiv" class="popup">
            <div class="title_left">
                <h3><i class="fa fa-newspaper-o"> &nbsp;</i> @Messages("directpay.history.imagedetails")</h3>
            </div>
            <h2><span id="popUpPictureTitle"></span></h2>
            <input type="hidden" id="hidden_order_id">
            <div id="buttonsDiv" class="popupTopButtons">
                <button id="btnZoomIn" type="button" class="btn btn-default btn-xs" title="@Messages("terminology.zoomin")"><i class="fa fa-search-plus"></i></button><button id="btnZoomOut" type="button" class="btn btn-default btn-xs" title="@Messages("terminology.zoomout")"><i class="fa fa-search-minus"></i></button> &nbsp; &nbsp; &nbsp;
            </div>
            <a class="popupClose" href="#">&times;</a>
            <input type="hidden" id="popUpPictureDoc1" value="@globals.country_doc1_name"><input type="hidden" id="popUpPictureDoc2" value="@globals.country_doc2_name"><input type="hidden" id="popUpPictureDoc3" value="@globals.country_doc3_name"><input type="hidden" id="popUpPictureDoc4" value="@globals.country_doc4_name"><input type="hidden" id="popUpPictureDoc5" value="@globals.country_doc5_name">
            <p><img src="placeholder" id="the_picture"></p>
            <p><span id="popUpPictureInfo3"></span></p>
            <div id="div_details" frameborder="0" border="0" cellspacing="0" style="display: block; border-style: none; resize: both;"></div>
        </div>
    </div>
        <!-- end of Modal page for order details -->



        <!-- orders list script -->
    <div id="orders-list" class="panel panel-default">
        <script id="orders-script-template" type="text/x-handlebars-template">
            <table id="table_orders" class="table table-striped responsive jambo_table bulk_action">
                <thead>
                    <tr>
                        <th>@Messages("terminology.type")</th>
                        <th>@Messages("terminology.status")</th>
                        <th>@Messages("terminology.created")</th>
                        <th>@Messages("terminology.requested")</th>
                        <th>@Messages("terminology.executed")</th>
                        <th>@Messages("terminology.value")</th>
                        <th>@Messages("terminology.fee")</th>
                        <th>@Messages("terminology.comment")</th>
                        <th>@Messages("directpay.admin.orderslist.doc")</th>
                        <th>@Messages("directpay.history.sum", globals.country_currency_symbol)</th>
                        <th>@Messages("directpay.history.sum", globals.country_currency_crypto)</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each this}}
                    <tr id="{{order_id}}">
                        <td {{class_type}} title="@Messages("directpay.admin.orderslist.orderID") = {{order_id}}, {{explained_type}}">{{order_type}}</td>
                        <td {{class_status}} title="@Messages("terminology.status") = {{explained_status}}">{{status}}</td>
                        <td>{{created}}</td>
                        <td>{{initial_value}}</td>
                        <td>{{closed}}</td>
                        <td {{class_value}}>{{net_value}}</td>
                        <td>{{total_fee}}</td>
                        <td>{{comment}}</td>
                        <td><a href="#popupDetails" id="requestPopupDetails" class="{{popupType}}" order_id="{{order_id}}" image_id="{{image_id}}" doc1="{{doc1}}" user="{{first_name}} {{middle_name}} {{last_name}}" email="{{email}}" type="{{order_type}}" initial_value="{{initial_value}}" fee="{{total_fee}}" title="{{doc1}}">{{doc1}}</a></td>
                        <td>###</td>
                        <td>###</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </script>
    </div>
        <!-- end of orders list script -->



        <!-- log list script -->
    <div id="log-list" class="panel panel-default">
        <script id="log-script-template" type="text/x-handlebars-template">
            <table id="table_orders" class="table table-striped responsive jambo_table bulk_action">
                <thead>
                    <tr>
                        <th>@Messages("terminology.created")</th>
                        <th>@Messages("terminology.type")</th>
                        <th>@Messages("terminology.status")</th>
                        <th>@Messages("terminology.comment")</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each this}}
                    <tr id="{{order_id}}">
                        <td>{{created}}</td>
                        <td {{class_type}} title="@Messages("directpay.admin.orderslist.orderID") = {{order_id}}, {{explained_type}}">{{order_type}}</td>
                        <td {{class_status}} title="@Messages("terminology.status") = {{explained_status}}">{{status}}</td>
                        <td>{{comment}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </script>
    </div>
        <!-- end of log list script -->

}